# THIS CODE WAS AUTOGENERATED. DO NOT MODIFY THIS FILE DIRECTLY
# THE SOURCE CODE LIVES IN A DIFFERENT REPOSITORY:
#   - centralized-templates
# FILE STEWARD: @pleo-io/team-devx,@pleo-bot-auto-approver


name: Weekly Wiz container scan

on:
  schedule:
    - cron: "0 3 * * *" # Everyday at 03:00 UTC
  workflow_dispatch:

jobs:
  wiz-cli-scanning:
    name: Scan Containers with Wiz-CLI
    uses: pleo-io/reusable-workflows/.github/workflows/security-analysis-with-wiz.reusable-external.yaml@main
    permissions:
      security-events: write
      actions: read
      contents: read
    secrets: inherit
    with:
      scheduled: true
      # Container Scanning Inputs
      wiz_scan_container: true
      wiz_scan_container_policy: "Pleo-Default-container-policy"
      wiz_scan_container_dockerfile_path: "."
      jdk_version: "21"
      node_version: 22
